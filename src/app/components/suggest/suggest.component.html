<p-growl [(value)]="message" life="5000"></p-growl>
<div class="header">
  <app-nav></app-nav>
</div>
<div class="ui-g">
  <div class="ui-g-12" style="color: #c1c99e;font-size: large;margin-top: 20px;">
    感谢您注册本站，为了提供更好的阅读体验，希望您能提供宝贵的意见，帮助本站一起改进。
  </div>
  <div class="ui-g-12">
    <textarea name="content" class="custom-placeholder" placeholder="建议内容长度10-500字内,每个用户可反馈3次，您已提交反馈{{count}}次"
              id="content" rows="8" [(ngModel)]="content" style="width: 100%;padding: 5px;"></textarea>
  </div>
  <div class="ui-g-12">

    <button [disabled]="count == 0" style="float: right;margin-left: 10px" type="button" pButton icon="fa fa-search"
            (click)="viewSuggest()" label="我的回复"></button>
    <button [disabled]="count > 2" style="float: right;" type="button" pButton icon="fa fa-save" (click)="save()"
            label="提交"></button>
  </div>
</div>
<p-dialog
  modal="true"
  [visible]="showViewSuggest"
  (visibleChange)="closeViewSuggest($event)"
  width="640"
  height="245"
>
  <div style="height: 200px">
    <p-table
      [value]="userSuggests"
      [columns]="cols"
      [rows]="10"
      [lazy]="true"
      [paginator]="false"
    >
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns" title="{{col.header}}">
            {{col.header}}
          </th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
        <tr [pSelectableRow]="rowData">
          <td *ngFor="let col of columns" title="{{rowData[col.field]}}">
            {{rowData[col.field]}}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</p-dialog>
